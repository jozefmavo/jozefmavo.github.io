import{w as we,S as G,i as K,s as J,e as h,a as $,b as _,t as ne,c as C,d as o,l as R,n as z,f as w,o as ke,g as Ne,h as Se,j as S,k as A,m as B,p as $e,q as me,r as ve,u as Y,v as F,x as L,y as j,z as Z,A as be,B as Ce,C as qe,D as x,E as Ee,F as Ae,G as Oe,H as Ct,I as wt,J as kt,K as yt}from"./vendor.a1d103d9.js";const St=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerpolicy&&(a.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?a.credentials="include":l.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}};St();const ht=new URLSearchParams(location.search),je="1201",Mt="users?archived=false&fields=archived%2Ccode%2Cprefix%2ClastName%2CfirstName&isStudent=true&schoolInSchoolYear=",Dt="users?archived=false&fields=archived%2Ccode%2Cprefix%2ClastName%2CisEmployee&isEmployee=true&schoolInSchoolYear=",ze=new Map([["teacherSchedule","id%2CappointmentInstance%2CbranchOfSchool%2Cgroups%2CstartTimeSlot%2CstartTimeSlotName%2Cstart%2CendTimeSlot%2CendTimeSlotName%2Cend%2Csubjects%2Cteachers%2ConlineTeachers%2Clocations%2Ctype%2Cvalid%2Ccancelled%2CteacherChanged%2CgroupChanged%2ClocationChanged%2CtimeChanged%2CchangeDescription%2Ccontent%2Cremark%2CschedulerRemark%2ClocationsOfBranch%2CgroupsInDepartments%2CchoosableInDepartmentCodes%2Coptional%2Coptional"],["studentSchedule","start%2Cend%2CstartTimeSlotName%2Ctype%2Cteachers%2Csubjects%2Cgroups%2Clocations%2Cremark%2CschedulerRemark%2CchangeDescription%2Ccancelled%2CteacherChanged%2CtimeChanged%2ClocationChanged%2CchoosableInDepartmentCodes"],["classSchedule","id%2CappointmentInstance%2CbranchOfSchool%2Cgroups%2CstartTimeSlot%2CstartTimeSlotName%2Cstart%2CendTimeSlot%2CendTimeSlotName%2Cend%2Csubjects%2Cteachers%2ConlineTeachers%2Clocations%2Ctype%2Cvalid%2Ccancelled%2CteacherChanged%2CgroupChanged%2ClocationChanged%2CtimeChanged%2CchangeDescription%2Ccontent%2Cremark%2CschedulerRemark%2ClocationsOfBranch%2CgroupsInDepartments%2CchoosableInDepartmentCodes%2Coptional"],["getStudentClassAppointments","groupsInDepartments%2Csubjects"]]),Ie=we(),Nt=we(!0),_t=we();let It=we(!1);const Tt=we(),Re=we();let We="/portal";function Lt(s){let e,n,t,l,a,r,i,c,u,g,d,m,v;return{c(){e=h("div"),n=h("div"),t=h("h1"),t.textContent="Login",l=$(),a=h("p"),a.textContent="Please provide login information to continue to Zermelo.",r=$(),i=h("input"),c=$(),u=h("input"),g=$(),d=h("button"),d.textContent="Login",_(t,"class","svelte-1w0gyqm"),_(a,"class","svelte-1w0gyqm"),_(i,"placeholder","schoolname"),_(i,"class","svelte-1w0gyqm"),ne(i,"error",s[2]),_(u,"placeholder","pairing code"),_(u,"type","number"),_(u,"class","svelte-1w0gyqm"),ne(u,"error",s[2]),_(d,"class","svelte-1w0gyqm"),_(n,"class","centered svelte-1w0gyqm"),_(e,"class","svelte-1w0gyqm")},m(f,b){C(f,e,b),o(e,n),o(n,t),o(n,l),o(n,a),o(n,r),o(n,i),s[4](i),o(n,c),o(n,u),s[5](u),o(n,g),o(n,d),m||(v=R(d,"click",s[3]),m=!0)},p(f,[b]){b&4&&ne(i,"error",f[2]),b&4&&ne(u,"error",f[2])},i:z,o:z,d(f){f&&w(e),s[4](null),s[5](null),m=!1,v()}}}function jt(s,e,n){let t,l,a;ke(async()=>{await Le()&&pe("Home")});async function r(){if(!t.value||!l.value){i();return}await Le(t.value,l.value),Se(V)?window.location.reload():i()}function i(){n(2,a=!0),setTimeout(()=>{n(2,a=!1)},3e3)}function c(g){Ne[g?"unshift":"push"](()=>{t=g,n(0,t)})}function u(g){Ne[g?"unshift":"push"](()=>{l=g,n(1,l)})}return[t,l,a,r,c,u]}class zt extends G{constructor(e){super();K(this,e,jt,Lt,J,{})}}function Pt(s){let e,n,t,l,a,r,i,c,u,g=(s[0].classes||"")+"",d,m,v;return{c(){e=h("div"),n=h("p"),t=h("b"),l=S(s[5]),a=$(),r=h("p"),i=S(s[6]),c=$(),u=h("p"),d=S(g),_(n,"class","svelte-6mydv4"),_(r,"class","svelte-6mydv4"),_(u,"class","classes svelte-6mydv4"),_(e,"class","appointment svelte-6mydv4"),A(e,"left",s[2]+"px"),A(e,"width",s[3]+"px"),A(e,"top",s[4]+"px"),ne(e,"cancelled",s[0].cancelled),ne(e,"changed",s[1])},m(f,b){C(f,e,b),o(e,n),o(n,t),o(t,l),o(e,a),o(e,r),o(r,i),o(e,c),o(e,u),o(u,d),m||(v=R(e,"click",s[7]),m=!0)},p(f,[b]){b&32&&B(l,f[5]),b&64&&B(i,f[6]),b&1&&g!==(g=(f[0].classes||"")+"")&&B(d,g),b&4&&A(e,"left",f[2]+"px"),b&8&&A(e,"width",f[3]+"px"),b&16&&A(e,"top",f[4]+"px"),b&1&&ne(e,"cancelled",f[0].cancelled),b&2&&ne(e,"changed",f[1])},i:z,o:z,d(f){f&&w(e),m=!1,v()}}}function Ht(s,e,n){let{appointment:t}=e;function l(){Tt.set(t),It.set(!0)}let a,r,i,c,u,g;return ke(()=>{n(1,a=t.teacherChanged||t.timeChanged||t.locationChanged),n(2,r=(t.startMin-440)*2),n(3,i=(t.endMin-t.startMin)*2-2),n(4,c=42+t.rowNr*80-80),n(5,u=`${t.subjects[0]||t.teachers.join(" ").toUpperCase()} - ${t.locations.length?t.locations:"0_00"}`),n(6,g=t.subjects[0]?t.teachers.join(" ").toUpperCase():"")}),s.$$set=d=>{"appointment"in d&&n(0,t=d.appointment)},[t,a,r,i,c,u,g,l]}class gt extends G{constructor(e){super();K(this,e,Ht,Pt,J,{appointment:0})}}function Ye(s,e,n){const t=s.slice();return t[1]=e[n],t}function Fe(s){let e,n=s[1].d+"",t,l;return{c(){e=h("div"),t=S(n),l=$(),_(e,"class","appointment svelte-1kb08l9"),A(e,"left","0px"),A(e,"width","80px"),A(e,"top",2+80*s[1].i-40+"px"),ne(e,"today",new Date().getDay()==s[1].i)},m(a,r){C(a,e,r),o(e,t),o(e,l)},p(a,r){r&1&&ne(e,"today",new Date().getDay()==a[1].i)},d(a){a&&w(e)}}}function Bt(s){let e,n=s[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=Fe(Ye(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=$e()},m(l,a){for(let r=0;r<t.length;r+=1)t[r].m(l,a);C(l,e,a)},p(l,[a]){if(a&1){n=l[0];let r;for(r=0;r<n.length;r+=1){const i=Ye(l,n,r);t[r]?t[r].p(i,a):(t[r]=Fe(i),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:z,o:z,d(l){me(t,l),l&&w(e)}}}function Wt(s){return[[{i:1,d:"Mon"},{i:2,d:"Tue"},{i:3,d:"Wed"},{i:4,d:"Thu"},{i:5,d:"Fri"}]]}class vt extends G{constructor(e){super();K(this,e,Wt,Bt,J,{})}}function Ze(s,e,n){const t=s.slice();return t[1]=e[n],t}function Ge(s){let e,n=s[1].start.h.toString().padStart(2,"0")+"",t,l,a=s[1].start.m.toString().padStart(2,"0")+"",r,i,c=s[1].end.h.toString().padStart(2,"0")+"",u,g,d=s[1].end.m.toString().padStart(2,"0")+"",m,v;return{c(){e=h("div"),t=S(n),l=S(":"),r=S(a),i=S(" - "),u=S(c),g=S(":"),m=S(d),v=$(),_(e,"class","appointment svelte-jp6sc9"),A(e,"left",(s[1].startMin-440)*2+"px"),A(e,"width",(s[1].endMin-s[1].startMin)*2-2+"px"),A(e,"height","40px"),A(e,"top","0px")},m(f,b){C(f,e,b),o(e,t),o(e,l),o(e,r),o(e,i),o(e,u),o(e,g),o(e,m),o(e,v)},p:z,d(f){f&&w(e)}}}function qt(s){let e,n=s[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=Ge(Ze(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=$e()},m(l,a){for(let r=0;r<t.length;r+=1)t[r].m(l,a);C(l,e,a)},p(l,[a]){if(a&1){n=l[0];let r;for(r=0;r<n.length;r+=1){const i=Ze(l,n,r);t[r]?t[r].p(i,a):(t[r]=Ge(i),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:z,o:z,d(l){me(t,l),l&&w(e)}}}function Et(s){return[[{startMin:480,endMin:540,start:{h:8,m:0},end:{h:9,m:0}},{startMin:540,endMin:600,start:{h:9,m:0},end:{h:10,m:0}},{startMin:600,endMin:660,start:{h:10,m:0},end:{h:11,m:0}},{startMin:660,endMin:720,start:{h:11,m:0},end:{h:12,m:0}},{startMin:720,endMin:780,start:{h:12,m:0},end:{h:13,m:0}},{startMin:780,endMin:840,start:{h:13,m:0},end:{h:14,m:0}},{startMin:840,endMin:900,start:{h:14,m:0},end:{h:15,m:0}},{startMin:900,endMin:960,start:{h:15,m:0},end:{h:16,m:0}},{startMin:960,endMin:1020,start:{h:16,m:0},end:{h:17,m:0}},{startMin:1020,endMin:1080,start:{h:17,m:0},end:{h:18,m:0}}]]}class $t extends G{constructor(e){super();K(this,e,Et,qt,J,{})}}const At=new Map([["groupindepartments",["id","name","isMentorGroup"]],["departmentsofbranches",["id","code"]]]);function Ke(s){return(At.get(s)||[]).join("%2C")}function Je(s,e,n){const t=s.slice();return t[21]=e[n],t}function Xe(s){let e,n,t,l,a={value:s[8],items:s[6]};return t=new Ct({props:a}),s[15](t),t.$on("select",s[9]),{c(){e=h("div"),n=h("div"),Y(t.$$.fragment),_(n,"class","svelte-zfs850"),_(e,"class","select svelte-zfs850")},m(r,i){C(r,e,i),o(e,n),F(t,n,null),l=!0},p(r,i){const c={};i&64&&(c.items=r[6]),t.$set(c)},i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){j(t.$$.fragment,r),l=!1},d(r){r&&w(e),s[15](null),Z(t)}}}function Ot(s){let e;return{c(){e=h("span"),e.textContent="Loading...",_(e,"class","svelte-zfs850")},m(n,t){C(n,e,t)},p:z,d(n){n&&w(e)}}}function Rt(s){let e=(s[3]||"No schedule selected.")+"",n;return{c(){n=S(e)},m(t,l){C(t,n,l)},p(t,l){l&8&&e!==(e=(t[3]||"No schedule selected.")+"")&&B(n,e)},d(t){t&&w(n)}}}function Qe(s){let e,n;return e=new gt({props:{appointment:s[21]}}),{c(){Y(e.$$.fragment)},m(t,l){F(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.appointment=t[21]),e.$set(a)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Ut(s){let e,n,t,l,a,r,i,c,u,g,d,m,v,f,b=parseInt(ve().format("W"))+s[2]+"",k,P,W,M,U,ee,X,T,H,O,D,ae,ie,ce,he,_e,ue,re,ye,q=s[4]&&Xe(s);function Me(p,N){return p[1]?Ot:Rt}let fe=Me(s),E=fe(s);D=new vt({}),ie=new $t({});let Q=s[0],y=[];for(let p=0;p<Q.length;p+=1)y[p]=Qe(Je(s,Q,p));const Be=p=>j(y[p],1,1,()=>{y[p]=null});return{c(){e=h("div"),n=h("h3"),t=h("button"),t.textContent="arrow_back_ios_new",l=$(),a=h("button"),a.textContent="date_range",r=$(),i=h("button"),i.textContent="arrow_forward_ios",c=$(),u=h("button"),u.textContent="list",g=$(),d=h("div"),m=$(),v=h("span"),f=S("Week "),k=S(b),P=$(),W=h("div"),M=$(),q&&q.c(),U=$(),ee=h("div"),X=$(),T=h("h3"),E.c(),H=$(),O=h("div"),Y(D.$$.fragment),ae=$(),Y(ie.$$.fragment),ce=$(),he=h("div"),_e=$();for(let p=0;p<y.length;p+=1)y[p].c();_(t,"class","material-icons svelte-zfs850"),_(a,"class","material-icons svelte-zfs850"),_(i,"class","material-icons svelte-zfs850"),_(u,"class","material-icons svelte-zfs850"),_(d,"class","sep svelte-zfs850"),_(v,"class","week svelte-zfs850"),_(W,"class","sep svelte-zfs850"),_(ee,"class","sep svelte-zfs850"),_(n,"class","svelte-zfs850"),_(T,"class","svelte-zfs850"),_(e,"class","header svelte-zfs850"),_(he,"class","timeline svelte-zfs850"),A(he,"left",(s[7]-442)*2+"px"),_(O,"class","grid svelte-zfs850")},m(p,N){C(p,e,N),o(e,n),o(n,t),o(n,l),o(n,a),o(n,r),o(n,i),o(n,c),o(n,u),o(n,g),o(n,d),o(n,m),o(n,v),o(v,f),o(v,k),o(n,P),o(n,W),o(n,M),q&&q.m(n,null),o(n,U),o(n,ee),o(e,X),o(e,T),E.m(T,null),C(p,H,N),C(p,O,N),F(D,O,null),o(O,ae),F(ie,O,null),o(O,ce),o(O,he),o(O,_e);for(let I=0;I<y.length;I+=1)y[I].m(O,null);ue=!0,re||(ye=[R(t,"click",s[10]),R(a,"click",s[12]),R(i,"click",s[11]),R(u,"click",s[14])],re=!0)},p(p,[N]){if((!ue||N&4)&&b!==(b=parseInt(ve().format("W"))+p[2]+"")&&B(k,b),p[4]?q?(q.p(p,N),N&16&&L(q,1)):(q=Xe(p),q.c(),L(q,1),q.m(n,U)):q&&(be(),j(q,1,1,()=>{q=null}),Ce()),fe===(fe=Me(p))&&E?E.p(p,N):(E.d(1),E=fe(p),E&&(E.c(),E.m(T,null))),(!ue||N&128)&&A(he,"left",(p[7]-442)*2+"px"),N&1){Q=p[0];let I;for(I=0;I<Q.length;I+=1){const De=Je(p,Q,I);y[I]?(y[I].p(De,N),L(y[I],1)):(y[I]=Qe(De),y[I].c(),L(y[I],1),y[I].m(O,null))}for(be(),I=Q.length;I<y.length;I+=1)Be(I);Ce()}},i(p){if(!ue){L(q),L(D.$$.fragment,p),L(ie.$$.fragment,p);for(let N=0;N<Q.length;N+=1)L(y[N]);ue=!0}},o(p){j(q),j(D.$$.fragment,p),j(ie.$$.fragment,p),y=y.filter(Boolean);for(let N=0;N<y.length;N+=1)j(y[N]);ue=!1},d(p){p&&w(e),q&&q.d(),E.d(),p&&w(H),p&&w(O),Z(D),Z(ie),me(y,p),re=!1,qe(ye)}}}function Yt(s,e,n){x.extend(Ee),x.extend(Ae),x.extend(Oe);let t=[],l=[],a={id:""},r=!1,i=0,c,u=[],g=[],d=!1,m,v,f=[];ke(async()=>{u=await de(le,te,`departmentsofbranches?fields=${Ke("departmentsofbranches")}&schoolInSchoolYear=${je}`,!0),u.response.data.forEach(async T=>{const H=(await de(le,te,`groupindepartments?fields=${Ke("groupindepartments")}&isMentorOrMainGroup=true&departmentOfBranch=${T.id}`,!0)).response.data;g.push(...ge(H,"name"))}),setTimeout(()=>{n(6,f=[]),ge(g,"name").forEach(T=>{f.push({value:T.id,label:T.name})}),n(4,d=!0)},1e3)});function b(T){const H=T.detail;n(3,c="Schedule for "+T.detail.label),k(H.value)}async function k(T){let H;n(0,l=[]),H=await Mn(T,i+1),t=ge(H.response.data,"start"),n(0,l=[]),a={id:T};for(let O=0;O<t.length;O++){const D=t[O],ae=new Date(D.start*1e3).getDay()-new Date(oe(se.prev)).getDay()+2;l.push({rowNr:ae,startMin:new Date(D.start*1e3).getHours()*60+new Date(D.start*1e3).getMinutes(),endMin:new Date(D.end*1e3).getHours()*60+new Date(D.end*1e3).getMinutes(),slotName:D.startTimeSlotName,locations:D.locations,teachers:D.teachers,subjects:D.subjects,cancelled:D.cancelled,changeWarning:D.changeDescription,teacherChanged:D.teacherChanged,locationChanged:D.locationChanged,timeChanged:D.timeChanged,start:{h:new Date(D.start*1e3).getHours(),m:new Date(D.start*1e3).getMinutes()},end:{h:new Date(D.end*1e3).getHours(),m:new Date(D.end*1e3).getMinutes()},classes:D.groups,startTimeStamp:D.start,endTimeStamp:D.end})}n(1,r=!1)}function P(){i+parseInt(ve().format("W"))>1&&(n(2,i-=1),k(a.id))}function W(){i+parseInt(ve().format("W"))<52&&(n(2,i+=1),k(a.id))}function M(){i!=0&&(n(2,i=0),k(a.id))}let U=0;setInterval(()=>{n(7,U=60*parseInt(x().format("HH"))+parseInt(x().format("m")))},300);const ee=()=>{pe("EveryonePage")};function X(T){Ne[T?"unshift":"push"](()=>{m=T,n(5,m)})}return[l,r,i,c,d,m,f,U,v,b,P,W,M,k,ee,X]}class Ft extends G{constructor(e){super();K(this,e,Yt,Ut,J,{openSched:13})}get openSched(){return this.$$.ctx[13]}}function Ve(s){let e,n;return e=new Ft({}),{c(){Y(e.$$.fragment)},m(t,l){F(e,t,l),n=!0},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Zt(s){let e,n,t=s[0]&&Ve();return{c(){t&&t.c(),e=$e()},m(l,a){t&&t.m(l,a),C(l,e,a),n=!0},p(l,[a]){l[0]?t?a&1&&L(t,1):(t=Ve(),t.c(),L(t,1),t.m(e.parentNode,e)):t&&(be(),j(t,1,1,()=>{t=null}),Ce())},i(l){n||(L(t),n=!0)},o(l){j(t),n=!1},d(l){t&&t.d(l),l&&w(e)}}}function Gt(s,e,n){let t;return V.subscribe(l=>n(0,t=l)),[t]}class Kt extends G{constructor(e){super();K(this,e,Gt,Zt,J,{})}}function Pe(s,e){_t.set({type:s,id:e}),pe("SchedulePeople")}function xe(s,e,n){const t=s.slice();return t[2]=e[n],t}function et(s){let e,n=s[2].firstName+"",t,l,a=(s[2].prefix||"")+"",r,i,c=s[2].lastName+"",u,g,d,m=s[2].code.toUpperCase()+"",v,f,b,k;function P(){return s[1](s[2])}return{c(){e=h("button"),t=S(n),l=$(),r=S(a),i=$(),u=S(c),g=$(),d=h("span"),v=S(m),f=$(),_(d,"class","right svelte-1x3rp31"),_(e,"class","svelte-1x3rp31")},m(W,M){C(W,e,M),o(e,t),o(e,l),o(e,r),o(e,i),o(e,u),o(e,g),o(e,d),o(d,v),o(e,f),b||(k=R(e,"click",P),b=!0)},p(W,M){s=W,M&1&&n!==(n=s[2].firstName+"")&&B(t,n),M&1&&a!==(a=(s[2].prefix||"")+"")&&B(r,a),M&1&&c!==(c=s[2].lastName+"")&&B(u,c),M&1&&m!==(m=s[2].code.toUpperCase()+"")&&B(v,m)},d(W){W&&w(e),b=!1,k()}}}function Jt(s){let e,n,t,l,a,r=s[0].length+"",i,c,u,g=s[0],d=[];for(let m=0;m<g.length;m+=1)d[m]=et(xe(s,g,m));return{c(){e=h("div"),n=h("h3"),t=h("span"),t.textContent="Students",l=$(),a=h("span"),i=S(r),c=S("\xA0\xA0"),u=$();for(let m=0;m<d.length;m+=1)d[m].c();_(t,"class","svelte-1x3rp31"),_(a,"class","right svelte-1x3rp31"),_(n,"class","svelte-1x3rp31"),_(e,"class","svelte-1x3rp31")},m(m,v){C(m,e,v),o(e,n),o(n,t),o(n,l),o(n,a),o(a,i),o(a,c),o(e,u);for(let f=0;f<d.length;f+=1)d[f].m(e,null)},p(m,[v]){if(v&1&&r!==(r=m[0].length+"")&&B(i,r),v&1){g=m[0];let f;for(f=0;f<g.length;f+=1){const b=xe(m,g,f);d[f]?d[f].p(b,v):(d[f]=et(b),d[f].c(),d[f].m(e,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=g.length}},i:z,o:z,d(m){m&&w(e),me(d,m)}}}function Xt(s,e,n){let t=[];return V.subscribe(async a=>{if(a==!0){n(0,t=(await He()).response.data),t.length>0&&n(0,t=ge(t,"firstName")),t.length>0&&n(0,t=ge(t,"lastName"));for(let r=0;r<t.length;r++)n(0,t[r].class=await bt(t[r].code),t)}}),[t,a=>{Pe("student",a.code)}]}class Qt extends G{constructor(e){super();K(this,e,Xt,Jt,J,{})}}function tt(s,e,n){const t=s.slice();return t[7]=e[n],t}function nt(s){let e,n=(s[7].prefix||"")+"",t,l,a=s[7].lastName+"",r,i,c,u=s[7].code.toUpperCase()+"",g,d,m,v;function f(){return s[1](s[7])}return{c(){e=h("button"),t=S(n),l=$(),r=S(a),i=$(),c=h("span"),g=S(u),d=$(),_(c,"class","right svelte-1jwpn1u"),_(e,"class","svelte-1jwpn1u")},m(b,k){C(b,e,k),o(e,t),o(e,l),o(e,r),o(e,i),o(e,c),o(c,g),o(e,d),m||(v=R(e,"click",f),m=!0)},p(b,k){s=b,k&1&&n!==(n=(s[7].prefix||"")+"")&&B(t,n),k&1&&a!==(a=s[7].lastName+"")&&B(r,a),k&1&&u!==(u=s[7].code.toUpperCase()+"")&&B(g,u)},d(b){b&&w(e),m=!1,v()}}}function Vt(s){let e,n,t,l,a,r=s[0].length+"",i,c,u,g=s[0],d=[];for(let m=0;m<g.length;m+=1)d[m]=nt(tt(s,g,m));return{c(){e=h("div"),n=h("h3"),t=h("span"),t.textContent="Teachers",l=$(),a=h("span"),i=S(r),c=S("\xA0\xA0"),u=$();for(let m=0;m<d.length;m+=1)d[m].c();_(t,"class","svelte-1jwpn1u"),_(a,"class","right svelte-1jwpn1u"),_(n,"class","svelte-1jwpn1u"),_(e,"class","svelte-1jwpn1u")},m(m,v){C(m,e,v),o(e,n),o(n,t),o(n,l),o(n,a),o(a,i),o(a,c),o(e,u);for(let f=0;f<d.length;f+=1)d[f].m(e,null)},p(m,[v]){if(v&1&&r!==(r=m[0].length+"")&&B(i,r),v&1){g=m[0];let f;for(f=0;f<g.length;f+=1){const b=tt(m,g,f);d[f]?d[f].p(b,v):(d[f]=nt(b),d[f].c(),d[f].m(e,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=g.length}},i:z,o:z,d(m){m&&w(e),me(d,m)}}}function xt(s,e,n){let t=[],l=[];return V.subscribe(async r=>{if(r==!0){t=(await He()).response.data,n(0,l=(await Ue()).response.data),t.length>0&&(t=ge(t,"firstName")),l.length>0&&n(0,l=ge(l,"lastName"));for(let i=0;i<t.length;i++)t[i].class=await bt(t[i].code)}}),[l,r=>{Pe("teacher",r.code)}]}class en extends G{constructor(e){super();K(this,e,xt,Vt,J,{})}}function tn(s){let e,n,t,l;return e=new en({}),t=new Qt({}),{c(){Y(e.$$.fragment),n=$(),Y(t.$$.fragment)},m(a,r){F(e,a,r),C(a,n,r),F(t,a,r),l=!0},p:z,i(a){l||(L(e.$$.fragment,a),L(t.$$.fragment,a),l=!0)},o(a){j(e.$$.fragment,a),j(t.$$.fragment,a),l=!1},d(a){Z(e,a),a&&w(n),Z(t,a)}}}class nn extends G{constructor(e){super();K(this,e,null,tn,J,{})}}function ln(s){let e;return{c(){e=h("h1"),e.textContent="Home!"},m(n,t){C(n,e,t)},p:z,i:z,o:z,d(n){n&&w(e)}}}class sn extends G{constructor(e){super();K(this,e,null,ln,J,{})}}function lt(s,e,n){const t=s.slice();return t[10]=e[n],t}function st(s){let e,n,t,l=s[3],a=[];for(let r=0;r<l.length;r+=1)a[r]=rt(lt(s,l,r));return{c(){e=h("div");for(let r=0;r<a.length;r+=1)a[r].c();_(e,"class","searchResults svelte-1ve9yp3"),A(e,"top",s[2]+"px"),A(e,"left",s[1]+"px")},m(r,i){C(r,e,i);for(let c=0;c<a.length;c+=1)a[c].m(e,null);n||(t=R(e,"click",s[9]),n=!0)},p(r,i){if(i&9){l=r[3];let c;for(c=0;c<l.length;c+=1){const u=lt(r,l,c);a[c]?a[c].p(u,i):(a[c]=rt(u),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}i&4&&A(e,"top",r[2]+"px"),i&2&&A(e,"left",r[1]+"px")},d(r){r&&w(e),me(a,r),n=!1,t()}}}function at(s){let e,n=s[10].item.code.toUpperCase()+"",t,l;return{c(){e=S("("),t=S(n),l=S(")")},m(a,r){C(a,e,r),C(a,t,r),C(a,l,r)},p(a,r){r&8&&n!==(n=a[10].item.code.toUpperCase()+"")&&B(t,n)},d(a){a&&w(e),a&&w(t),a&&w(l)}}}function rt(s){let e,n=(s[10].item.firstName||"")+"",t,l,a=(s[10].item.prefix||"")+"",r,i,c=(s[10].item.lastName||"")+"",u,g,d,m,v,f=s[10].item.isEmployee&&at(s);function b(){return s[8](s[10])}return{c(){e=h("button"),t=S(n),l=$(),r=S(a),i=$(),u=S(c),g=$(),f&&f.c(),d=$(),_(e,"class","svelte-1ve9yp3")},m(k,P){C(k,e,P),o(e,t),o(e,l),o(e,r),o(e,i),o(e,u),o(e,g),f&&f.m(e,null),o(e,d),m||(v=R(e,"click",b),m=!0)},p(k,P){s=k,P&8&&n!==(n=(s[10].item.firstName||"")+"")&&B(t,n),P&8&&a!==(a=(s[10].item.prefix||"")+"")&&B(r,a),P&8&&c!==(c=(s[10].item.lastName||"")+"")&&B(u,c),s[10].item.isEmployee?f?f.p(s,P):(f=at(s),f.c(),f.m(e,d)):f&&(f.d(1),f=null)},d(k){k&&w(e),f&&f.d(),m=!1,v()}}}function an(s){let e,n,t,l,a,r,i,c=!s[5]&&s[4]&&st(s);return{c(){e=h("input"),n=$(),t=h("button"),t.textContent="search",l=$(),c&&c.c(),a=$e(),_(e,"placeholder","Search people..."),_(e,"class","svelte-1ve9yp3"),_(t,"class","material-icons svelte-1ve9yp3")},m(u,g){C(u,e,g),s[7](e),C(u,n,g),C(u,t,g),C(u,l,g),c&&c.m(u,g),C(u,a,g),r||(i=[R(e,"focus",s[6]),R(e,"blur",s[6]),R(e,"input",s[6])],r=!0)},p(u,[g]){!u[5]&&u[4]?c?c.p(u,g):(c=st(u),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i:z,o:z,d(u){u&&w(e),s[7](null),u&&w(n),u&&w(t),u&&w(l),c&&c.d(u),u&&w(a),r=!1,qe(i)}}}function rn(s,e,n){let t,l,a,r=[],i="",c=!1;ke(()=>{n(1,l=t.offsetLeft-5),n(2,a=t.offsetTop+30)});async function u(){n(4,i=t.value),n(3,r=await kn(t.value)),n(5,c=document.activeElement!=t)}function g(v){Ne[v?"unshift":"push"](()=>{t=v,n(0,t)})}return[t,l,a,r,i,c,u,g,v=>{n(0,t.value="",t),Pe(v.item.isEmployee?"teacher":"student",v.item.code)},()=>t.focus()]}class on extends G{constructor(e){super();K(this,e,rn,an,J,{})}}function ot(s,e,n){const t=s.slice();return t[12]=e[n],t}function cn(s){let e;return{c(){e=S("Loading...")},m(n,t){C(n,e,t)},p:z,d(n){n&&w(e)}}}function un(s){let e;function n(a,r){return a[1].id?pn:fn}let t=n(s),l=t(s);return{c(){l.c(),e=$e()},m(a,r){l.m(a,r),C(a,e,r)},p(a,r){t===(t=n(a))&&l?l.p(a,r):(l.d(1),l=t(a),l&&(l.c(),l.m(e.parentNode,e)))},d(a){l.d(a),a&&w(e)}}}function fn(s){let e;return{c(){e=S("No schedule selected.")},m(n,t){C(n,e,t)},p:z,d(n){n&&w(e)}}}function pn(s){let e=(s[4]||"Loading...")+"",n;return{c(){n=S(e)},m(t,l){C(t,n,l)},p(t,l){l&16&&e!==(e=(t[4]||"Loading...")+"")&&B(n,e)},d(t){t&&w(n)}}}function it(s){let e,n;return e=new gt({props:{appointment:s[12]}}),{c(){Y(e.$$.fragment)},m(t,l){F(e,t,l),n=!0},p(t,l){const a={};l&1&&(a.appointment=t[12]),e.$set(a)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function dn(s){let e,n,t,l,a,r,i,c,u,g,d,m,v,f,b=parseInt(ve().format("W"))+s[3]+"",k,P,W,M,U,ee,X,T,H,O,D,ae,ie,ce,he,_e,ue,re,ye,q;U=new on({});function Me(p,N){return p[2]?cn:un}let fe=Me(s),E=fe(s);ae=new vt({}),ce=new $t({});let Q=s[0],y=[];for(let p=0;p<Q.length;p+=1)y[p]=it(ot(s,Q,p));const Be=p=>j(y[p],1,1,()=>{y[p]=null});return{c(){e=h("div"),n=h("h3"),t=h("button"),t.textContent="arrow_back_ios_new",l=$(),a=h("button"),a.textContent="date_range",r=$(),i=h("button"),i.textContent="arrow_forward_ios",c=$(),u=h("button"),u.textContent="list",g=$(),d=h("div"),m=$(),v=h("span"),f=S("Week "),k=S(b),P=$(),W=h("div"),M=$(),Y(U.$$.fragment),ee=$(),X=h("div"),T=$(),H=h("h3"),E.c(),O=$(),D=h("div"),Y(ae.$$.fragment),ie=$(),Y(ce.$$.fragment),he=$(),_e=h("div"),ue=$();for(let p=0;p<y.length;p+=1)y[p].c();_(t,"class","material-icons"),_(a,"class","material-icons"),_(i,"class","material-icons"),_(u,"class","material-icons"),_(d,"class","sep"),_(v,"class","week"),_(W,"class","sep"),_(X,"class","sep"),_(e,"class","header"),_(_e,"class","timeline"),A(_e,"left",(s[5]-442)*2+"px"),_(D,"class","grid")},m(p,N){C(p,e,N),o(e,n),o(n,t),o(n,l),o(n,a),o(n,r),o(n,i),o(n,c),o(n,u),o(n,g),o(n,d),o(n,m),o(n,v),o(v,f),o(v,k),o(n,P),o(n,W),o(n,M),F(U,n,null),o(n,ee),o(n,X),o(e,T),o(e,H),E.m(H,null),C(p,O,N),C(p,D,N),F(ae,D,null),o(D,ie),F(ce,D,null),o(D,he),o(D,_e),o(D,ue);for(let I=0;I<y.length;I+=1)y[I].m(D,null);re=!0,ye||(q=[R(t,"click",s[6]),R(a,"click",s[8]),R(i,"click",s[7]),R(u,"click",s[10])],ye=!0)},p(p,[N]){if((!re||N&8)&&b!==(b=parseInt(ve().format("W"))+p[3]+"")&&B(k,b),fe===(fe=Me(p))&&E?E.p(p,N):(E.d(1),E=fe(p),E&&(E.c(),E.m(H,null))),(!re||N&32)&&A(_e,"left",(p[5]-442)*2+"px"),N&1){Q=p[0];let I;for(I=0;I<Q.length;I+=1){const De=ot(p,Q,I);y[I]?(y[I].p(De,N),L(y[I],1)):(y[I]=it(De),y[I].c(),L(y[I],1),y[I].m(D,null))}for(be(),I=Q.length;I<y.length;I+=1)Be(I);Ce()}},i(p){if(!re){L(U.$$.fragment,p),L(ae.$$.fragment,p),L(ce.$$.fragment,p);for(let N=0;N<Q.length;N+=1)L(y[N]);re=!0}},o(p){j(U.$$.fragment,p),j(ae.$$.fragment,p),j(ce.$$.fragment,p),y=y.filter(Boolean);for(let N=0;N<y.length;N+=1)j(y[N]);re=!1},d(p){p&&w(e),Z(U),E.d(),p&&w(O),p&&w(D),Z(ae),Z(ce),me(y,p),ye=!1,qe(q)}}}function mn(s,e,n){x.extend(Ee),x.extend(Ae),x.extend(Oe);let t=[],l=[],a={id:""},r=!1,i=0,c;_t.subscribe(async b=>{if(b)if(n(2,r=!0),n(1,a=b),u(b.type,b.id),b.type=="teacher"){const k=await Sn(b.id);n(4,c=`${k.prefix||""} ${k.lastName||""} (${k.code.toUpperCase()})`),n(2,r=!1)}else{const k=await yn(b.id);n(4,c=`${k.firstName||""} ${k.prefix||""} ${k.lastName||""} (${k.code.toUpperCase()})`),n(2,r=!1)}});async function u(b,k){let P;n(0,l=[]),b=="student"?P=await wn(k,i+1):P=await Cn(k,i+1),console.log(P.response),t=ge(P.response.data,"start"),n(0,l=[]);for(let W=0;W<t.length;W++){const M=t[W],U=new Date(M.start*1e3).getDay()-new Date(oe(se.prev)).getDay()+2;l.push({rowNr:U,startMin:new Date(M.start*1e3).getHours()*60+new Date(M.start*1e3).getMinutes(),endMin:new Date(M.end*1e3).getHours()*60+new Date(M.end*1e3).getMinutes(),slotName:M.startTimeSlotName,locations:M.locations,teachers:M.teachers,subjects:M.subjects,cancelled:M.cancelled,changeWarning:M.changeDescription,teacherChanged:M.teacherChanged,locationChanged:M.locationChanged,timeChanged:M.timeChanged,start:{h:new Date(M.start*1e3).getHours(),m:new Date(M.start*1e3).getMinutes()},end:{h:new Date(M.end*1e3).getHours(),m:new Date(M.end*1e3).getMinutes()},classes:M.groups,startTimeStamp:M.start,endTimeStamp:M.end})}n(2,r=!1)}function g(){i+parseInt(ve().format("W"))>1&&(n(3,i-=1),u(a.type,a.id))}function d(){i+parseInt(ve().format("W"))<52&&(n(3,i+=1),u(a.type,a.id))}function m(){i!=0&&(n(3,i=0),u(a.type,a.id))}let v=0;return setInterval(()=>{n(5,v=60*parseInt(x().format("HH"))+parseInt(x().format("m")))},300),[l,a,r,i,c,v,g,d,m,u,()=>{pe("ListEveryone")}]}class hn extends G{constructor(e){super();K(this,e,mn,dn,J,{openSched:9})}get openSched(){return this.$$.ctx[9]}}function _n(s){let e,n,t,l,a;return n=new hn({}),{c(){e=h("div"),Y(n.$$.fragment),_(e,"class","svelte-za3vn1")},m(r,i){C(r,e,i),F(n,e,null),t=!0,l||(a=R(e,"mousedown",s[0]),l=!0)},p:z,i(r){t||(L(n.$$.fragment,r),t=!0)},o(r){j(n.$$.fragment,r),t=!1},d(r){r&&w(e),Z(n),l=!1,a()}}}function gn(s){function e(n){const t=n.composedPath();let l=!0;for(let a=0;a<t.length;a++){const r=t[a];if(r.classList&&r.classList.contains("sidebar")){l=!1;break}}l&&Nt.set(!1)}return[e]}class vn extends G{constructor(e){super();K(this,e,gn,_n,J,{})}}function pe(s){return Te.has(s)&&(Re.set(Te.get(s)),ht.set("m",s),wt(`./?m=${s}`)),!1}const Te=new Map([["HomePage",{name:"Home",icon:"home",content:sn,sidebar:!0}],["SchedulePeople",{name:"People",icon:"people",content:vn,sidebar:!0}],["ScheduleClasses",{name:"Classes",icon:"event",content:Kt,sidebar:!0}],["ListEveryone",{name:"List",icon:"list",content:nn,sidebar:!0}],["Login",{name:"Login",icon:"",content:zt,sidebar:!1}]]);x.extend(Ee);x.extend(Ae);x.extend(Oe);async function de(s,e,n,t=!0,l){if(Se(V)||l){const a={headers:{Authorization:`Bearer ${s}`},method:"GET"},r=await await fetch(`https://${e}.zportal.nl/api/v3/${n}`,l?{}:a);return t?r.json():r.text()}return t?{}:"{}"}async function $n(s,e){const n={method:"POST"};return await(await fetch(`https://${e}.zportal.nl/api/v3/oauth/token?grant_type=authorization_code&code=${s}`,n)).json()}let V=we(!1),le,te;async function Le(s,e){if(localStorage.getItem("accessToken")){le=localStorage.getItem("accessToken"),te=localStorage.getItem("school");const n=await(await fetch(`https://${te}.zportal.nl/api/v3/users/~me`,{headers:{Authorization:`Bearer ${le}`}})).json();return V.set(n.response.status==200),V?(console.log("Zermelo login succeeded from stored access token"),Ie.set(n.response.data)):console.log("Zermelo login failed from stored access token: server returned "+n.response.status),Se(V)}if(!s||!e)return console.log("Zermelo login failed!"),console.error(s,e),!1;try{const n=await $n(e,s);n.access_token&&(localStorage.setItem("accessToken",n.access_token),localStorage.setItem("school",s),V.set(!0),Ie.set((await(await fetch(`https://${te}.zportal.nl/api/v3/users/~me`,{headers:{Authorization:`Bearer ${le}`}})).json()).response.data)),Se(V)&&console.log("Zermelo login succeeded from provided data")}catch{V.set(!1)}return Se(V)}function bn(){localStorage.removeItem("school"),localStorage.removeItem("accessToken"),V.set(!1),pe("Login")}async function He(){return await de(le,te,`${Mt}${je}`)}async function Ue(){return await de(le,te,`${Dt}${je}`)}async function Cn(s,e=0){const n=oe(se.prev)+601200*e,t=oe(se.next)+601200*e;return await de(le,te,`appointments?start=${n}&end=${t}&teachers=${s}&fields=${ze.get("teacherSchedule")}`,!0)}async function wn(s,e=0){const n=oe(se.prev)+601200*e,t=oe(se.next)+601200*e;return await de(le,te,`appointments?user=${s}&start=${n}&end=${t}&fields=${ze.get("studentSchedule")}`,!0)}async function bt(s){const e=oe(se.prev),n=oe(se.next),t=await de(le,te,`appointments?valid=true&start=${e}&end=${n}&fields=${ze.get("getStudentClassAppointments")}&possibleStudents=${s}`,!0);let l;const a=t.response.data;for(let r=0;r<a.length;r++)if(a[r].groupsInDepartments.length>0&&a[r].subjects.length>0){if(a[r].subjects[0]=="mtr"){l=a[r].groupsInDepartments[0];break}continue}return(await de(le,te,`groupindepartments?id=${l}&fields=name`,!0)).response.data[0].name.replace("jv","").replace("jb","").toUpperCase()}function oe(s){let e;return s==se.prev?e=x().weekday(-7).unix():e=x().weekday(0).unix(),e}async function kn(s){const e=Array.prototype.concat((await Ue()).response.data,(await He()).response.data),n={includeScore:!0,keys:["firstName","lastName","code"]};return new kt(e,n).search(s)}async function yn(s){const e=(await He()).response.data;for(let n=0;n<e.length;n++)if(e[n].code==s)return e[n];return{}}async function Sn(s){const e=(await Ue()).response.data;for(let n=0;n<e.length;n++)if(e[n].code==s)return e[n];return{}}function ge(s,e){return s.sort(function(n,t){var l=n[e],a=t[e];return l<a?-1:l>a?1:0})}async function Mn(s,e){const n=oe(se.prev)+601200*e,t=oe(se.next)+601200*e;return await de(le,te,`appointments?valid=true&start=${n}&end=${t}&fields=${ze.get("classSchedule")}&schoolInSchoolYear=${je}&containsStudentsFromGroupInDepartment=${s}`)}var se=(s=>(s[s.prev=0]="prev",s[s.next=1]="next",s))(se||{});function ct(s,e,n){const t=s.slice();return t[1]=e[n],t}function ut(s){let e,n=s[1].icon+"",t,l,a,r,i;return{c(){e=h("button"),t=S(n),l=$(),_(e,"class","material-icons svelte-10ub0dz"),_(e,"title",a=s[1].caption)},m(c,u){C(c,e,u),o(e,t),o(e,l),r||(i=R(e,"click",s[1].action),r=!0)},p(c,u){s=c},d(c){c&&w(e),r=!1,i()}}}function Dn(s){let e,n=s[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=ut(ct(s,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=$e()},m(l,a){for(let r=0;r<t.length;r+=1)t[r].m(l,a);C(l,e,a)},p(l,[a]){if(a&1){n=l[0];let r;for(r=0;r<n.length;r+=1){const i=ct(l,n,r);t[r]?t[r].p(i,a):(t[r]=ut(i),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:z,o:z,d(l){me(t,l),l&&w(e)}}}function Nn(s){return[[{icon:"logout",action:()=>{bn()},caption:"Logout"},{icon:"calendar_today",action:()=>{Pe("student",Se(Ie)[0].code)},caption:"Show own calendar"}]]}class In extends G{constructor(e){super();K(this,e,Nn,Dn,J,{})}}function Tn(s){let e,n,t,l,a,r,i,c,u,g=s[0].firstName+"",d,m,v=(s[0].prefix||"")+"",f,b,k=s[0].lastName+"",P,W,M,U,ee,X;return a=new In({}),{c(){e=h("div"),n=h("div"),n.textContent=`Zermelo Hub | ${te}`,t=$(),l=h("div"),Y(a.$$.fragment),r=$(),i=h("div"),c=$(),u=h("p"),d=S(g),m=$(),f=S(v),b=$(),P=S(k),W=$(),M=h("span"),M.textContent="account_circle",U=$(),ee=h("div"),_(n,"class","header svelte-1l29745"),_(i,"class","sep svelte-1l29745"),_(u,"class","svelte-1l29745"),_(M,"class","material-icons svelte-1l29745"),_(l,"class","right svelte-1l29745"),_(e,"class","tb svelte-1l29745"),_(ee,"class","accent svelte-1l29745")},m(T,H){C(T,e,H),o(e,n),o(e,t),o(e,l),F(a,l,null),o(l,r),o(l,i),o(l,c),o(l,u),o(u,d),o(u,m),o(u,f),o(u,b),o(u,P),o(l,W),o(l,M),C(T,U,H),C(T,ee,H),X=!0},p(T,[H]){(!X||H&1)&&g!==(g=T[0].firstName+"")&&B(d,g),(!X||H&1)&&v!==(v=(T[0].prefix||"")+"")&&B(f,v),(!X||H&1)&&k!==(k=T[0].lastName+"")&&B(P,k)},i(T){X||(L(a.$$.fragment,T),X=!0)},o(T){j(a.$$.fragment,T),X=!1},d(T){T&&w(e),Z(a),T&&w(U),T&&w(ee)}}}function Ln(s,e,n){let t;return Ie.subscribe(l=>{n(0,t=l[0])}),[t]}class jn extends G{constructor(e){super();K(this,e,Ln,Tn,J,{})}}function ft(s,e,n){const t=s.slice();return t[5]=e[n][0],t[6]=e[n][1],t}function zn(s){let e,n,t=s[6].icon+"",l,a,r,i=s[6].name+"",c,u,g,d;function m(){return s[1](s[5])}return{c(){e=h("button"),n=h("span"),l=S(t),a=$(),r=h("p"),c=S(i),u=$(),_(n,"class","material-icons svelte-1qx5v5t"),_(r,"class","svelte-1qx5v5t"),_(e,"class","svelte-1qx5v5t"),ne(e,"selected",s[0]&&s[0].name==s[6].name)},m(v,f){C(v,e,f),o(e,n),o(n,l),o(e,a),o(e,r),o(r,c),o(e,u),g||(d=R(e,"click",m),g=!0)},p(v,f){s=v,f&1&&ne(e,"selected",s[0]&&s[0].name==s[6].name)},d(v){v&&w(e),g=!1,d()}}}function pt(s){let e,n=s[6].sidebar&&s[6]&&zn(s);return{c(){n&&n.c(),e=$e()},m(t,l){n&&n.m(t,l),C(t,e,l)},p(t,l){t[6].sidebar&&t[6]&&n.p(t,l)},d(t){n&&n.d(t),t&&w(e)}}}function Pn(s){let e,n=[...Te],t=[];for(let l=0;l<n.length;l+=1)t[l]=pt(ft(s,n,l));return{c(){e=h("div");for(let l=0;l<t.length;l+=1)t[l].c();_(e,"class","sidebar svelte-1qx5v5t")},m(l,a){C(l,e,a);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,[a]){if(a&1){n=[...Te];let r;for(r=0;r<n.length;r+=1){const i=ft(l,n,r);t[r]?t[r].p(i,a):(t[r]=pt(i),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:z,o:z,d(l){l&&w(e),me(t,l)}}}function Hn(s,e,n){let t;yt(s,Re,i=>n(0,t=i));let l="";function a(){l=location.pathname,l.startsWith(We)&&(l.length==We.length||l.length==We.length-1)}return ke(()=>{a(),setInterval(a,10)}),[t,i=>pe(i)]}class Bn extends G{constructor(e){super();K(this,e,Hn,Pn,J,{})}}function dt(s){let e,n,t,l;return e=new Bn({}),t=new jn({}),{c(){Y(e.$$.fragment),n=$(),Y(t.$$.fragment)},m(a,r){F(e,a,r),C(a,n,r),F(t,a,r),l=!0},i(a){l||(L(e.$$.fragment,a),L(t.$$.fragment,a),l=!0)},o(a){j(e.$$.fragment,a),j(t.$$.fragment,a),l=!1},d(a){Z(e,a),a&&w(n),Z(t,a)}}}function mt(s){let e,n,t;var l=s[1].content;function a(r){return{}}return l&&(e=new l(a())),{c(){e&&Y(e.$$.fragment),n=$e()},m(r,i){e&&F(e,r,i),C(r,n,i),t=!0},p(r,i){if(l!==(l=r[1].content)){if(e){be();const c=e;j(c.$$.fragment,1,0,()=>{Z(c,1)}),Ce()}l?(e=new l(a()),Y(e.$$.fragment),L(e.$$.fragment,1),F(e,n.parentNode,n)):e=null}},i(r){t||(e&&L(e.$$.fragment,r),t=!0)},o(r){e&&j(e.$$.fragment,r),t=!1},d(r){r&&w(n),e&&Z(e,r)}}}function Wn(s){let e,n,t,l,a=s[0]&&dt(),r=s[1]&&mt(s);return{c(){e=h("div"),n=h("div"),a&&a.c(),t=$(),r&&r.c(),_(n,"class","content svelte-1efnqlf"),_(e,"class","bg svelte-1efnqlf")},m(i,c){C(i,e,c),o(e,n),a&&a.m(n,null),o(n,t),r&&r.m(n,null),l=!0},p(i,[c]){i[0]?a?c&1&&L(a,1):(a=dt(),a.c(),L(a,1),a.m(n,t)):a&&(be(),j(a,1,1,()=>{a=null}),Ce()),i[1]?r?(r.p(i,c),c&2&&L(r,1)):(r=mt(i),r.c(),L(r,1),r.m(n,null)):r&&(be(),j(r,1,1,()=>{r=null}),Ce())},i(i){l||(L(a),L(r),l=!0)},o(i){j(a),j(r),l=!1},d(i){i&&w(e),a&&a.d(),r&&r.d()}}}function qn(s,e,n){let t=!1,l;return ke(async()=>{n(0,t=await Le()),t?(V.set(!0),pe("Home")):pe("Login")}),Re.subscribe(a=>n(1,l=a)),[t,l]}class En extends G{constructor(e){super();K(this,e,qn,Wn,J,{})}}function An(s){let e,n,t;return n=new En({}),{c(){e=h("div"),Y(n.$$.fragment)},m(l,a){C(l,e,a),F(n,e,null),t=!0},p:z,i(l){t||(L(n.$$.fragment,l),t=!0)},o(l){j(n.$$.fragment,l),t=!1},d(l){l&&w(e),Z(n)}}}function On(s){return V.subscribe(e=>{}),ke(async()=>{var e;await Le(),pe((e=ht.get("m"))!=null?e:"HomePage")}),[]}class Rn extends G{constructor(e){super();K(this,e,On,An,J,{})}}new Rn({target:document.getElementById("app")});
